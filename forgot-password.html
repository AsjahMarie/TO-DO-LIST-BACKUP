<!-- forgot-password.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="topBanner"><h1>CheckMate</h1></header>
    <div class="content">
        <h2>Forgot Password</h2>
        <p>Enter your email and username, and we'll display the password on file.</p>
        <form onsubmit="return verifyInfo()">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email">
            
            <label for="username">Username:</label>
            <input type="text" id="username" name="username">

            <button type="submit">Submit</button>
        </form>
        <div id="confirmationMessage" style="display: none; color: green;">
            Check your email for a password reset link. (If its not in your inbox, check your spam folder)
        </div>
    </div>
    <script>

        function verifyInfo(){
            const emailInput = document.getElementById('email').value;
            const storedEmail = window.localStorage.getItem('email');
            const userInput = document.getElementById('username').value;
            const storedUsername = window.localStorage.getItem('username');

            const storedPassword = window.localStorage.getItem('password');

            if (emailInput !== storedEmail && userInput !== storedUsername){
                alert('we do not have that information on file, redirecting you to the login page');
                setTimeout(function () {
                    window.location.href = 'index.html';
                }, 500); // Redirect after .5 seconds
            } else {
                alert(`your password is: ${storedPassword}`);
            } 

            return false
        }

        // function validateForm() {
        //     var email = document.getElementById('email').value;
        //     var username = document.getElementById('username').value;

        //     // Either email or username is required
        //     if (!email && !username) {
        //         alert('Please enter either your email or username.');
        //         return false;
        //     }

        //     document.getElementById('confirmationMessage').style.display = 'block';
        //     setTimeout(function () {
        //         window.location.href = 'index.html';
        //     }, 3000); // Redirects after 3 seconds 

        //     return false; 
        // }
    </script>
</body>
</html>
